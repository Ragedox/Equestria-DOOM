ACTOR FFDEBackpack : Backpack replaces Backpack
{
  Inventory.PickupSound "pickup/backpack"
}

actor FDEComputerMap : Allmap replaces Allmap
{
  States
  {
  Spawn:
    PMAP A 16 Bright
	PMAP E random( 2, 5)
	PMAP A 10 Bright
	PMAP E random( 1, 3)
	PMAP B 16 Bright
	PMAP E random( 2, 5)
	PMAP B 10 Bright
	PMAP E random( 1, 3)
	PMAP C 16 Bright
	PMAP E random( 2, 5)
	PMAP C 10 Bright
	PMAP E random( 1, 3)
	PMAP D 16 Bright
	PMAP E random( 2, 5)
	PMAP D 10 Bright
	PMAP E random( 2, 5)
    Loop
  }
}

//Invisibility Sphere

ACTOR FDEBlurSphere : CustomInventory replaces BlurSphere
{
  +COUNTITEM
  +FLOATBOB
  +NOGRAVITY
  +FORCEXYBILLBOARD
  +INVENTORY.BIGPOWERUP
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Got the Stealth sphere!"
  Inventory.PickupSound "misc/p_pkup"
  Alpha 1
  States
  {
  Spawn:
    PINS ABCD 6 Bright
    Loop
  Pickup:
	TNT1 A 0 A_GiveInventory(FDEBlurSphereInventory)
	TNT1 A 0 A_SetBlend(Black, 0.5, 16)
	Stop
  }
}

ACTOR FDEBlurSphereInventory : BlurSphere
{	
  RenderStyle Shaded
}

//Invulnerability Sphere

ACTOR FDEInvulSphere : CustomInventory replaces InvulnerabilitySphere
{
  +COUNTITEM
  +FLOATBOB
  +NOGRAVITY
  +FORCEXYBILLBOARD
  +INVENTORY.BIGPOWERUP
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Got the Temporary Invulnerability!"
  Inventory.PickupSound "misc/p_pkup"
  States
  {
  Spawn:
	PINV ABCD 6 Bright
	Loop
  Pickup:
	TNT1 A 0 A_Quake(4, 2, 0, 100)
	TNT1 A 0 A_GiveInventory("FDEInvulSphereInventory")
	TNT1 A 0 A_SetBlend(Green, 0.5, 16)
	Stop
  }
}

ACTOR FDEInvulSphereInventory : InvulnerabilitySphere
{
  Powerup.Color GoldMap,1
}

//SoulSphere
ACTOR FDESoulSphere : CustomInventory replaces Soulsphere
{
  +COUNTITEM
  +FLOATBOB
  +NOGRAVITY
  +FORCEXYBILLBOARD
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Got the Overdrive sphere!"
  Inventory.PickupSound "misc/p_pkup"
  States
  {
  Spawn:
	SOUL ABCDCB 6 Bright
	Loop
  Pickup:
	TNT1 A 0 A_GiveInventory("SoulSphereHealth")
	TNT1 A 0 A_SetBlend(Yellow, 0.5, 16)
	Stop
  }
}

ACTOR SoulSphereHealth : Health	
{
	Inventory.Amount 100
	Inventory.MaxAmount 200
	+INVENTORY.ALWAYSPICKUP
}

/*ACTOR FDESoulSphere : SoulSphere replaces SoulSphere
{
  +FLOATBOB
  +NOGRAVITY
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
	SOUL ABCD 6 Bright
	Loop
  }
}*/

//MegaSphere

ACTOR FDEMegaSphere : CustomInventory replaces Megasphere
{
  +COUNTITEM
  +FLOATBOB
  +NOGRAVITY
  +FORCEXYBILLBOARD
  +INVENTORY.AUTOACTIVATE
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Got the Ultra-Overdrive sphere!"
  Inventory.PickupSound "misc/p_pkup"
  States
  {
  Spawn:
	MEGA ABCD 6 Bright
	Loop
  Pickup:
	TNT1 A 0 A_GiveInventory("BlueArmorForMegasphere")
    TNT1 A 0 A_GiveInventory("MegasphereHealth")
	TNT1 A 0 A_SetBlend(Orange, 0.5, 16)
	Stop
  }
}

/*ACTOR FDEMegaSphere : MegaSphere replaces Megasphere
{
  +FLOATBOB
  +NOGRAVITY
  +FORCEXYBILLBOARD
  States
  {
  Spawn:
	MEGA ABCD 6 Bright
  }
}*/

//Berserk

ACTOR FDEBerserk : Berserk replaces Berserk
{
  +COUNTITEM
  +INVENTORY.ALWAYSPICKUP
  Inventory.PickupMessage "Got an Adrenaline shot!"
  Inventory.PickupSound "pickup/stimpack"
  States
  {
  Spawn:
    PSTR A -1
    Stop
  Pickup:
	TNT1 A 0 
	{
		A_QuakeEX(2, 2, 2, 16, 0, 100, "", QF_RELATIVE | QF_SCALEDOWN);
		A_SetBlend(White, 0.75, 16);
		A_GiveInventory("BerserkEffect");
		A_GiveInventory("BerserkFist");
		A_SelectWeapon("BerserkFist");
		HealThing(100, 0);
		A_SelectWeapon("Fist");
	}
    Stop
  }
}

ACTOR BerserkEffect : PowerupGiver
{
  Powerup.Duration 1
  +INVENTORY.HUBPOWER
  Inventory.MaxAmount 0
  Powerup.Color "None"
  Powerup.Type "PowerStrength"
  +INVENTORY.ALWAYSPICKUP
  +INVENTORY.AUTOACTIVATE
}

actor QuadDamage : PowerupGiver 11001
{
 +COUNTITEM
 +FLOATBOB
 +NOGRAVITY
 +FORCEXYBILLBOARD
//$Category Powerups
//$Title "Quad Damage"
//$Sprite QUADA0
 inventory.pickupmessage "Got the Quad Damage!"
 powerup.color Blue 0.25
 inventory.maxamount 0
 inventory.usesound "misc/p_pkup"
 powerup.type QuadDamage
 powerup.duration -30
 +AUTOACTIVATE
 +INVENTORY.ALWAYSPICKUP
 +INVENTORY.FANCYPICKUPSOUND
   states
 {
 Spawn:
   QUAD ABCD 6 bright
   loop
 }
}

actor PowerQuadDamage : PowerDamage
{
damagefactor "normal", 4
}